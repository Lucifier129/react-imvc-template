webpackJsonp([17],{217:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){var t=e.children,n=o(e,["children"]);return u["default"].createElement("div",n,u["default"].createElement("h1",null,u["default"].createElement(c.Link,{to:"/"},"目录")),u["default"].createElement("div",null,t))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var a=n(206),u=r(a),c=n(218)},273:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(205),s=r(l),f=(function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.preload={normalize:"/advanced_usage/page_transition/css/normalize.css",animate:"/advanced_usage/page_transition/css/animate.css",main:"/advanced_usage/page_transition/css/main.css"},a=n,i(r,a)}return a(t,e),c(t,[{key:"getInitialState",value:function(e){return u({},e,{activeAnimateType:this.cookie("animateType")||"slideInRight"})}}]),t})(s["default"]);t["default"]=f},279:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=function(e){return Object.assign({position:"fixed",top:0,left:0,backgroundColor:"#fff",width:"100%",minHeight:window.innerHeight+"px",boxShadow:"-2px 2px 5px #eaeaea",webkitBoxShadow:"-2px 2px 5px #eaeaea"},e,n.style)};return t=e=(function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={prevView:null},r.scrollStore={},r.saveScroll=function(){var e=r.context.location;r.scrollStore[e.raw]=window.scrollY},r.getContainer=function(e){r.container=e},r.getCurrent=function(e){r.current=e},r.getPrevious=function(e){r.previous=e},o=n,a(r,o)}return u(t,e),s(t,[{key:"getType",value:function(){return this.state.prevView?"POP"!==this.context.location.action?"in":"out":"normal"}},{key:"emit",value:function(e){var t=this;if("function"==typeof n[e]){var r=this.current,o=this.previous,i=this.container,a=this.props,u={props:a,current:r,previous:o,container:i},c=function(){Object.assign(r.style,h),Object.assign(o.style,h),t.setState({prevView:null})},l=n[e](u,c);l&&"function"==typeof l.then&&l.then(c)["catch"]((function(e){return alert(e)}))}}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.saveScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.saveScroll)}},{key:"componentWillReceiveProps",value:function(e,t){var n=this.context.location,r=t.location;n!==r&&this.setState({prevView:this.props.children,prevLocation:n})}},{key:"componentDidUpdate",value:function(){var e=this.current,t=this.previous;this.container;switch(this.saveScroll(),this.getType()){case"in":Object.assign(e.style,r()),this.emit("onPageIn");break;case"out":var n=-this.scrollStore[this.state.prevLocation.raw];Object.assign(t.style,r({top:n+"px"})),this.emit("onPageOut")}}},{key:"renderNormal",value:function(){var e=this.props,t=e.as,n=o(e,["as"]);return p["default"].createElement(t,n,p["default"].createElement("div",{key:"current"},this.props.children))}},{key:"renderIn",value:function(){var e=this.props,t=e.as,n=o(e,["as"]),r=this.props.children,i=this.state.prevView;return p["default"].createElement(t,l({},n,{ref:this.getContainer}),p["default"].createElement("div",{key:"current",ref:this.getCurrent},r),p["default"].createElement("div",{key:"previous",ref:this.getPrevious},i))}},{key:"renderOut",value:function(){var e=this.props,t=e.as,n=o(e,["as"]),r=this.props.children,i=this.state.prevView;return p["default"].createElement(t,l({},n,{ref:this.getContainer}),p["default"].createElement("div",{key:"previous",ref:this.getPrevious},i),p["default"].createElement("div",{key:"current",ref:this.getCurrent},r))}},{key:"render",value:function(){switch(this.getType()){case"in":return this.renderIn();case"out":return this.renderOut();default:return this.renderNormal()}}}]),t})(p["default"].Component),e.contextTypes={location:p["default"].PropTypes.object},e.defaultProps={as:"div"},t}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();t["default"]=c;var f=n(206),p=r(f),d=n(280),h=(r(d),{position:"",top:"",left:"",backgroundColor:"",width:"",minHeight:"",boxShadow:"",webkitBoxShadow:""})},284:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=e.state,n=e.handlers,r=t.animateTypeList,o=t.activeAnimateType,i=n.handleChangeAnimateType;return f["default"].createElement(m["default"],null,f["default"].createElement("h2",null,"页面转场效果列表页"),f["default"].createElement("p",null,"点击下列链接，体验带联动效果的转场动画"),f["default"].createElement("ul",null,r.map((function(e){var t={color:e===o?"red":"blue",textDecoration:"underline",marginBottom:10};return f["default"].createElement("li",null,f["default"].createElement("div",{style:t,"data-animation":e,onClick:i},e))}))))}Object.defineProperty(t,"__esModule",{value:!0});var c=n(273),l=r(c),s=n(206),f=r(s),p=n(274),d=(r(p),n(218),n(285)),h=r(d),v=n(217),m=r(v),y={animateTypeList:["bounceIn","bounceInDown","bounceInLeft","bounceInRight","bounceInUp","fadeIn","fadeInDown","fadeInDownBig","fadeInLeft","fadeInLeftBig","fadeInRight","fadeInRightBig","fadeInUp","fadeInUpBig","flipInX","flipInY","lightSpeedIn","rotateIn","rotateInDownLeft","rotateInDownRight","rotateInUpLeft","rotateInUpRight","rollIn","zoomIn","zoomInDown","zoomInLeft","zoomInRight","zoomInUp","slideInDown","slideInLeft","slideInRight","slideInUp"]},g=(function(e){function t(){var e,n,r,a;o(this,t);for(var c=arguments.length,l=Array(c),s=0;s<c;s++)l[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.BaseView=h["default"],r.View=u,r.initialState=y,r.handleChangeAnimateType=function(e){var t=e.currentTarget,n=t.getAttribute("data-animation");r.cookie("animateType",n),r.history.push("/advanced_usage/page_transition/d")},a=n,i(r,a)}return a(t,e),t})(l["default"]);t["default"]=g},285:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.state,n=e.children;return a["default"].createElement("div",null,a["default"].createElement(u.Style,{name:"normalize"}),a["default"].createElement(u.Style,{name:"animate"}),a["default"].createElement(u.Style,{name:"main"}),a["default"].createElement(l["default"],{animation:t.activeAnimateType},n))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(206),a=r(i),u=n(218),c=n(286),l=r(c),s=n(217);r(s)},286:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(c){return void n(c)}return a.done?void e(u):Promise.resolve(u).then((function(e){r("next",e)}),(function(e){r("throw",e)}))}return r("next")})}}function i(e,t){var n=e.replace("In","Out"),r={"in":e,out:n};return t?(r["in"].includes("Up")?(r["in"]=r["in"].replace("Up","Down"),r.out=r.out.replace("Up","Down")):r["in"].includes("Down")&&(r["in"]=r["in"].replace("Down","Up"),r.out=r.out.replace("Down","Up")),r["in"].includes("Left")?r["in"]=r["in"].replace("Left","Right"):r["in"].includes("Right")&&(r["in"]=r["in"].replace("Right","Left"))):r["in"].includes("Left")?r.out=r.out.replace("Left","Right"):r["in"].includes("Right")&&(r.out=r.out.replace("Right","Left")),r}function a(e){return new Promise(function(t){var n=function r(n){var o=n.currentTarget,i=n.target;o===i&&(e.removeEventListener("animationEnd",r),e.removeEventListener("webkitAnimationEnd",r),t())};e.addEventListener("animationEnd",n),e.addEventListener("webkitAnimationEnd",n)})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(206),c=(r(u),n(279)),l=r(c);t["default"]=(0,l["default"])({animate:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o(regeneratorRuntime.mark((function u(){var o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=["animated","animation-duration-400ms",e["in"]],c=["animated","animation-duration-400ms",e.out],o.forEach((function(e){return t.classList.add(e)})),c.forEach((function(e){return n.classList.add(e)})),r.next=6,Promise.all([a(t),a(n)]);case 6:i&&window.scrollTo(0,0),o.forEach((function(e){return t.classList.remove(e)})),c.forEach((function(e){return n.classList.remove(e)}));case 9:case"end":return r.stop()}}),u,r)})))()},onPageIn:function(e){var t=e.props,n=e.current,r=e.previous,o=i(t.animation,!1);return this.animate(o,n,r,!0)},onPageOut:function(e){var t=e.props,n=e.current,r=e.previous,o=i(t.animation,!0);return this.animate(o,n,r,!1)}})}});