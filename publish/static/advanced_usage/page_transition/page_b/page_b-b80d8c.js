webpackJsonp([16],{217:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.children,n=o(e,["children"]);return u["default"].createElement("div",n,u["default"].createElement("h1",null,u["default"].createElement(c.Link,{to:"/"},"目录")),u["default"].createElement("div",null,t))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var i=n(206),u=r(i),c=n(218)},273:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(205),s=r(l),f=(function(e){function t(){var e,n,r,i;o(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.preload={normalize:"/advanced_usage/page_transition/css/normalize.css",animate:"/advanced_usage/page_transition/css/animate.css"},i=n,a(r,i)}return i(t,e),c(t,[{key:"getInitialState",value:function(e){return u({},e,{activeAnimateType:this.cookie("animateType")||"slideInRight"})}}]),t})(s["default"]);t["default"]=f},277:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.state,n=e.children;return i["default"].createElement("div",null,i["default"].createElement(u.Style,{name:"normalize"}),i["default"].createElement(u.Style,{name:"animate"}),i["default"].createElement(l["default"],{animation:t.activeAnimateType},n))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(206),i=r(a),u=n(218),c=n(278),l=r(c),s=n(217);r(s)},278:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),u=i.value}catch(c){return void n(c)}return i.done?void e(u):Promise.resolve(u).then((function(e){r("next",e)}),(function(e){r("throw",e)}))}return r("next")})}}function a(e){return new Promise(function(t){var n=function r(n){var o=n.currentTarget,a=n.target;o===a&&(e.removeEventListener("animationEnd",r),e.removeEventListener("webkitAnimationEnd",r),t())};e.addEventListener("animationEnd",n),e.addEventListener("webkitAnimationEnd",n)})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(206),u=(r(i),n(279)),c=r(u);t["default"]=(0,c["default"])({onPageIn:function(e){var t=this,n=e.props,r=e.current;return o(regeneratorRuntime.mark((function i(){var e,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.animation,o=r.classList,o.add("animated"),o.add(e),t.next=6,a(r);case 6:window.scrollTo(0,0),o.remove("animated"),o.remove(e);case 9:case"end":return t.stop()}}),i,t)})))()},onPageOut:function(e){var t=this,n=e.props,r=e.previous;return o(regeneratorRuntime.mark((function i(){var e,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.animation.replace("In","Out"),o=r.classList,o.add("animated"),o.add(e),t.next=6,a(r);case 6:o.remove("animated"),o.remove(e);case 8:case"end":return t.stop()}}),i,t)})))()}})},279:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=function(e){return Object.assign({position:"fixed",top:0,left:0,backgroundColor:"#fff",width:"100%",minHeight:window.innerHeight+"px",boxShadow:"-2px 2px 5px #eaeaea",webkitBoxShadow:"-2px 2px 5px #eaeaea"},e,n.style)};return t=e=(function(e){function t(){var e,n,r,i;o(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={prevView:null},r.scrollStore={},r.reset=function(){var e=r,t=e.current,n=e.previous;t&&(t.style=""),n&&(n.style=""),r.setState({prevView:null})},r.saveScroll=function(){var e=r.context.location;r.scrollStore[e.raw]=window.scrollY},r.getContainer=function(e){r.container=e},r.getCurrent=function(e){r.current=e},r.getPrevious=function(e){r.previous=e},i=n,a(r,i)}return i(t,e),c(t,[{key:"getType",value:function(){return this.state.prevView?"POP"!==this.context.location.action?"in":"out":"normal"}},{key:"emit",value:function(e){if("function"==typeof n[e]){var t=this.current,r=this.previous,o=this.container,a=this.props,i={props:a,current:t,previous:r,container:o},u=n[e](i,this.reset);u&&"function"==typeof u.then&&u.then(this.reset)}}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.saveScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.saveScroll)}},{key:"componentWillReceiveProps",value:function(e,t){var n=this.context.location,r=t.location;n!==r&&this.setState({prevView:this.props.children,prevLocation:n})}},{key:"componentDidUpdate",value:function(){var e=this.current,t=this.previous;this.container;switch(this.saveScroll(),this.getType()){case"in":Object.assign(e.style,r()),this.emit("onPageIn");break;case"out":var n=-this.scrollStore[this.state.prevLocation.raw];Object.assign(t.style,r({top:n+"px"})),this.emit("onPageOut")}}},{key:"renderNormal",value:function(){return s["default"].createElement("div",null,s["default"].createElement("div",{key:"current"},this.props.children))}},{key:"renderIn",value:function(){var e=this.props.children,t=this.state.prevView;return s["default"].createElement("div",{ref:this.getContainer},s["default"].createElement("div",{key:"current",ref:this.getCurrent},e),s["default"].createElement("div",{key:"previous",ref:this.getPrevious},t))}},{key:"renderOut",value:function(){var e=this.props.children,t=this.state.prevView;return s["default"].createElement("div",{ref:this.getContainer},s["default"].createElement("div",{key:"previous",ref:this.getPrevious},t),s["default"].createElement("div",{key:"current",ref:this.getCurrent},e))}},{key:"render",value:function(){switch(this.getType()){case"in":return this.renderIn();case"out":return this.renderOut();default:return this.renderNormal()}}}]),t})(s["default"].Component),e.contextTypes={location:s["default"].PropTypes.object},t}Object.defineProperty(t,"__esModule",{value:!0});var c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();t["default"]=u;var l=n(206),s=r(l),f=n(280);r(f)},282:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=e.state;return f["default"].createElement(y["default"],null,f["default"].createElement("h2",null,"页面转场空白页: ",t.location.query.randomKey||"first"),f["default"].createElement("div",null,f["default"].createElement(p.Link,{href:"javascript:;",back:!0},"点击我回退至上一页")),f["default"].createElement("div",null,f["default"].createElement(p.Link,{to:"/advanced_usage/page_transition/b?randomKey="+Math.random().toString(36).substr(2,8)},"点我新开页面")),f["default"].createElement("div",{style:{height:1e3}}),f["default"].createElement(p.Link,{href:"javascript:;",back:!0},"点击我回退至上一页"))}Object.defineProperty(t,"__esModule",{value:!0});var c=n(273),l=r(c),s=n(206),f=r(s),p=n(218),d=n(277),v=r(d),h=n(217),y=r(h),m=(function(e){function t(){var e,n,r,i;o(this,t);for(var c=arguments.length,l=Array(c),s=0;s<c;s++)l[s]=arguments[s];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.BaseView=v["default"],r.View=u,i=n,a(r,i)}return i(t,e),t})(l["default"]);t["default"]=m}});